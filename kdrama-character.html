<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>K-Drama Line Trainer ‚Äì Pastel</title>

  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 20px;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(180deg, #fdf8ff, #f7fbff, #fffdf7);
      min-height: 100vh;
      display: flex;
      align-items: flex-start;
      justify-content: center;
    }

    .container {
      width: 100%;
      max-width: 420px;
    }

    .card {
      background: #ffffffee;
      border-radius: 30px;
      padding: 26px 22px 22px;
      border: 2px solid #f8e9ff;
      box-shadow:
        0 8px 18px rgba(177, 181, 201, 0.25),
        0 0 0 6px rgba(255, 214, 245, 0.4);
    }

    /* Ï†úÎ™© ÏòÅÏó≠ */
    .cute-title {
      text-align: center;
      margin-bottom: 10px;
    }
    .cute-title .line1 {
      font-size: 2.2rem;
      font-weight: 800;
      color: #5163ff;
      text-shadow:
        0 1px 0 #fff,
        0 2px 3px rgba(81, 99, 255, 0.25);
    }
    .cute-title .line2 {
      font-size: 2.0rem;
      font-weight: 800;
      color: #ff6aa9;
      text-shadow:
        0 1px 0 #fff,
        0 2px 3px rgba(255, 106, 169, 0.25);
    }
    .cute-title .icon {
      font-size: 1.4rem;
      margin-left: 4px;
    }

    .subtitle {
      text-align: center;
      font-size: 0.9rem;
      color: #7f8c8d;
      margin-bottom: 18px;
    }

    .tag {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 5px 12px;
      border-radius: 999px;
      font-size: 0.8rem;
      background: #ffeef7;
      border: 1px solid #ffd6ea;
      color: #ff6aa9;
      margin-bottom: 18px;
    }

    .korean-phrase {
      text-align: center;
      font-size: 2.4rem;
      font-weight: 700;
      color: #3f3f3f;
      margin-bottom: 6px;
    }

    .roman {
      text-align: center;
      font-size: 1rem;
      color: #7d7d7d;
      margin-bottom: 4px;
    }

    .meaning {
      text-align: center;
      font-size: 0.92rem;
      color: #6b6b6b;
      margin-bottom: 16px;
    }

    .divider {
      height: 1px;
      background: linear-gradient(to right, transparent, #e0defb, transparent);
      margin: 8px 0 12px;
    }

    .section-title {
      font-size: 0.9rem;
      color: #6c5ce7;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .section-title::before {
      content: "üìò";
      font-size: 0.95rem;
    }

    .syllables {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 6px;
    }

    .syllable-card {
      flex: 1 1 90px;
      min-width: 90px;
      background: #fdfaff;
      border-radius: 18px;
      padding: 10px 8px;
      border: 1px solid #e7ddff;
      text-align: center;
      box-shadow: 0 2px 6px rgba(180, 170, 240, 0.15);
    }

    .syllable-block {
      font-size: 1.25rem;
      font-weight: 700;
      color: #5a4cd6;
      margin-bottom: 5px;
    }

    .syllable-jamo {
      font-size: 0.8rem;
      color: #7c6af5;
      line-height: 1.4;
    }

    .emotion {
      font-size: 0.8rem;
      color: #8a8a8a;
      text-align: right;
      margin-top: 4px;
    }

    .btn-wrapper {
      margin-top: 16px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    button {
      width: 100%;
      padding: 11px 12px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 0.95rem;
      font-weight: 700;
      letter-spacing: 0.01em;
      transition: 0.1s;
    }

    #jamoToggleBtn {
      background: #ffeaf4;
      color: #ff5fa8;
      border: 1px solid #ffd6ea;
    }

    #nextBtn {
      background: #dcd5ff;
      color: #5a4cd6;
      border: 1px solid #c5b8ff;
    }

    button:active {
      transform: translateY(1px) scale(0.98);
      opacity: 0.96;
    }

    .hint {
      margin-top: 10px;
      font-size: 0.8rem;
      color: #8b8b8b;
      text-align: center;
    }

    .hidden { display: none; }

    @media (max-width: 480px) {
      .card { padding: 22px 16px 18px; border-radius: 24px; }
      .cute-title .line1 { font-size: 2rem; }
      .cute-title .line2 { font-size: 1.8rem; }
      .korean-phrase { font-size: 2.1rem; }
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="card">

      <div class="cute-title">
        <div class="line1">K-Drama</div>
        <div class="line2">Line Trainer <span class="icon">üé¨</span></div>
      </div>

      <div class="subtitle">
        Cute pastel K-drama lines for easy Hangul practice üå∏
      </div>

      <div class="tag">
        <span id="tagEmoji">üòÜ</span>
        <span id="tagText">Mood</span>
      </div>

      <div class="korean-phrase" id="koreanText">...</div>
      <div class="roman" id="romanText">...</div>
      <div class="meaning" id="meaningText">...</div>

      <div class="divider"></div>

      <div class="section-title">Break it down (Hangul blocks & letters)</div>
      <div class="syllables" id="syllablesContainer"></div>

      <div class="emotion" id="emotionText"></div>

      <div class="btn-wrapper">
        <button id="jamoToggleBtn">Hide / Show breakdown</button>
        <button id="nextBtn">Next Line ‚ú®</button>
      </div>

      <div class="hint">Tip: Read it aloud softly üíó</div>

    </div>
  </div>

  <script>
    /* ------------ 1) ÌëúÌòÑ Îç∞Ïù¥ÌÑ∞ 50Í∞ú ------------ */
    const phrases = [
      // üòÜ Í∑ÄÏó¨ÏõÄ/Ïû•ÎÇú/ÏπúÌïú ÏÇ¨Ïù¥ (10)
      { id: "babo", korean: "Î∞îÎ≥¥", roman: "ba-bo",
        english: "You dummy (playful)", emotion: "teasing / playful", emoji: "üòÜ", tag: "Teasing" },
      { id: "mwohae", korean: "Î≠êÌï¥?", roman: "mwo-hae?",
        english: "What are you doing?", emotion: "casual / friendly", emoji: "üôÇ", tag: "Casual" },
      { id: "eodiya", korean: "Ïñ¥ÎîîÏïº?", roman: "eo-di-ya?",
        english: "Where are you?", emotion: "casual / check-in", emoji: "üôÇ", tag: "Casual" },
      { id: "jinjjaya", korean: "ÏßÑÏßúÏïº?", roman: "jin-jja-ya?",
        english: "Really?", emotion: "surprised / curious", emoji: "üò≥", tag: "Surprise" },
      { id: "daebak", korean: "ÎåÄÎ∞ï!", roman: "dae-bak!",
        english: "Awesome! / No way!", emotion: "excited / amazed", emoji: "üî•", tag: "Wow" },
      { id: "heol", korean: "Ìóê‚Ä¶", roman: "heol...",
        english: "What the... / Omg", emotion: "shocked / speechless", emoji: "üòÆ", tag: "Shock" },
      { id: "utgine", korean: "ÏõÉÍ∏∞ÎÑ§", roman: "ut-gi-ne",
        english: "That's funny", emotion: "amused", emoji: "üòÜ", tag: "Funny" },
      { id: "jangnan", korean: "Ïû•ÎÇúÌïòÏßÄ Îßà", roman: "jang-nan-ha-ji ma",
        english: "Don't mess with me", emotion: "annoyed / playful", emoji: "üòë", tag: "Don't joke" },
      { id: "gwiyeowo", korean: "Í∑ÄÏó¨Ïõå!", roman: "gwi-yeo-wo!",
        english: "So cute!", emotion: "soft / loving", emoji: "ü•∫", tag: "Cute" },
      { id: "joha", korean: "Ï¢ãÏïÑ!", roman: "jo-a!",
        english: "I like it! / Okay!", emotion: "positive", emoji: "üòÑ", tag: "Like" },

      // üò± ÎÜÄÎûå/Ï∂©Í≤© Î¶¨Ïï°ÏÖò (10)
      { id: "mworago", korean: "Î≠êÎùºÍ≥†?", roman: "mwo-ra-go?",
        english: "What did you say?", emotion: "confused / shocked", emoji: "üòÆ", tag: "What!?" },
      { id: "jinjja", korean: "ÏßÑÏßú?", roman: "jin-jja?",
        english: "Really?", emotion: "surprised / skeptical", emoji: "üëÄ", tag: "Really?" },
      { id: "michyeosseo", korean: "ÎØ∏Ï≥§Ïñ¥?", roman: "mi-cheot-sseo?",
        english: "Are you crazy?", emotion: "shocked / dramatic", emoji: "üò±", tag: "Drama reaction" },
      { id: "eomeo", korean: "Ïñ¥Î®∏!", roman: "eo-meo!",
        english: "Oh my!", emotion: "shocked", emoji: "ü´¢", tag: "Surprise" },
      { id: "eomeoeomeo", korean: "Ïñ¥Î®∏Ïñ¥Î®∏!", roman: "eo-meo eo-meo!",
        english: "Oh my gosh!", emotion: "shocked / gossip mode", emoji: "ü´¢", tag: "Gossip" },
      { id: "aigo", korean: "ÏïÑÏù¥Í≥†‚Ä¶", roman: "a-i-go...",
        english: "Oh no / Oh dear", emotion: "tired / dramatic", emoji: "üòÆ‚Äçüí®", tag: "Sigh" },
      { id: "seolma", korean: "ÏÑ§Îßà‚Ä¶", roman: "seol-ma...",
        english: "No way‚Ä¶ / It can‚Äôt be‚Ä¶", emotion: "doubt / disbelief", emoji: "üò®", tag: "Doubt" },
      { id: "wadaebak", korean: "ÏôÄ‚Ä¶ ÎåÄÎ∞ï", roman: "wa... dae-bak",
        english: "Wow‚Ä¶ amazing", emotion: "amazed", emoji: "ü§Ø", tag: "Wow" },
      { id: "mwoji", korean: "Î≠êÏßÄ?", roman: "mwo-ji?",
        english: "What is this?", emotion: "confused", emoji: "ü§î", tag: "Confused" },
      { id: "maldoandae", korean: "ÎßêÎèÑ Ïïà Îèº", roman: "mal-do an-dwae",
        english: "That‚Äôs impossible / No way", emotion: "disbelief", emoji: "üôÑ", tag: "No way" },

      // üò° ÌôîÎÇ®/ÏßúÏ¶ù ÌëúÌòÑ (10)
      { id: "jjajeungna", korean: "ÏßúÏ¶ùÎÇò!", roman: "jja-jeung-na!",
        english: "So annoying!", emotion: "annoyed", emoji: "üò§", tag: "Annoyed" },
      { id: "ajinjja", korean: "ÏïÑ, ÏßÑÏßú!", roman: "a, jin-jja!",
        english: "Ugh, seriously!", emotion: "frustrated", emoji: "üò©", tag: "Frustration" },
      { id: "waegeurae", korean: "Ïôú Í∑∏Îûò!", roman: "wae geu-rae!",
        english: "What‚Äôs wrong with you!", emotion: "upset", emoji: "üò†", tag: "Upset" },
      { id: "hajima", korean: "ÌïòÏßÄ Îßà!", roman: "ha-ji ma!",
        english: "Don‚Äôt do that!", emotion: "warning", emoji: "üõë", tag: "Warning" },
      { id: "geumanhae", korean: "Í∑∏ÎßåÌï¥", roman: "geu-man-hae",
        english: "Stop it", emotion: "annoyed", emoji: "üòë", tag: "Stop" },
      { id: "michyeotna", korean: "ÎØ∏Ï≥§ÎÉê?", roman: "mi-chyeot-nya?",
        english: "Are you insane?", emotion: "angry / shocked", emoji: "üò°", tag: "Angry" },
      { id: "eoieopne", korean: "Ïñ¥Ïù¥ÏóÜÎÑ§", roman: "eo-i-eop-ne",
        english: "That‚Äôs ridiculous", emotion: "annoyed / shocked", emoji: "üòÆ‚Äçüí®", tag: "Ridiculous" },
      { id: "dwaesseo", korean: "ÎêêÏñ¥", roman: "dwae-sseo",
        english: "Forget it", emotion: "dismissive", emoji: "üòí", tag: "Dismiss" },
      { id: "molla", korean: "Î™∞Îùº", roman: "mol-la",
        english: "I don‚Äôt know / Whatever", emotion: "annoyed / giving up", emoji: "üòÆ‚Äçüí®", tag: "Whatever" },
      { id: "singyeongkkeo", korean: "Ïã†Í≤Ω Í∫º", roman: "sin-gyeong-kkeo",
        english: "Mind your own business", emotion: "cold / annoyed", emoji: "üßä", tag: "Cold" },

      // üò¢ Í∞êÏ†ï¬∑Ïä¨Ìîî¬∑ÏúÑÎ°ú (10)
      { id: "mianhae", korean: "ÎØ∏ÏïàÌï¥", roman: "mi-an-hae",
        english: "I‚Äôm sorry", emotion: "apologetic", emoji: "ü•∫", tag: "Apology" },
      { id: "gwaenchana", korean: "Í¥úÏ∞ÆÏïÑ?", roman: "gwaen-cha-na?",
        english: "Are you okay?", emotion: "concerned", emoji: "üòü", tag: "Concern" },
      { id: "angwaenchana", korean: "Ïïà Í¥úÏ∞ÆÏïÑ‚Ä¶", roman: "an gwaen-cha-na...",
        english: "I‚Äôm not okay‚Ä¶", emotion: "sad / vulnerable", emoji: "ü•∫", tag: "Sad" },
      { id: "eotteokhae", korean: "Ïñ¥Îñ°Ìï¥‚Ä¶", roman: "eo-tteok-hae...",
        english: "What do I do‚Ä¶", emotion: "sad / worried", emoji: "üò¢", tag: "Worried" },
      { id: "uljima", korean: "Ïö∏ÏßÄ Îßà", roman: "ul-ji ma",
        english: "Don‚Äôt cry", emotion: "comforting", emoji: "ü§ç", tag: "Comfort" },
      { id: "bogosipeo", korean: "Î≥¥Í≥† Ïã∂Ïñ¥", roman: "bo-go si-peo",
        english: "I miss you", emotion: "longing", emoji: "üíî", tag: "Missing" },
      { id: "himnae", korean: "ÌûòÎÇ¥", roman: "him-nae",
        english: "Stay strong", emotion: "encouraging", emoji: "üí™", tag: "Encouragement" },
      { id: "sugohaesseo", korean: "ÏàòÍ≥†ÌñàÏñ¥", roman: "su-go-haess-eo",
        english: "Good job / You worked hard", emotion: "supportive", emoji: "ü§ó", tag: "Support" },
      { id: "gwaenchantanikka", korean: "Í¥úÏ∞ÆÎã§ÎãàÍπå", roman: "gwaen-chan-ta-ni-kka",
        english: "I said it‚Äôs okay", emotion: "gentle reassurance", emoji: "üôÇ", tag: "Reassurance" },
      { id: "naegadawajulge", korean: "ÎÇ¥Í∞Ä ÎèÑÏôÄÏ§ÑÍ≤å", roman: "nae-ga do-wa-jul-ge",
        english: "I‚Äôll help you", emotion: "supportive", emoji: "ü§ù", tag: "Help" },

      // üòç ÏÇ¨Îûë¬∑ÏÑ§Î†ò¬∑Î°úÎß®Ïä§ (10)
      { id: "joahae", korean: "Ï¢ãÏïÑÌï¥", roman: "jo-a-hae",
        english: "I like you", emotion: "romantic / shy", emoji: "üòä", tag: "Romance" },
      { id: "saranghae", korean: "ÏÇ¨ÎûëÌï¥", roman: "sa-rang-hae",
        english: "I love you", emotion: "romantic / warm", emoji: "‚ù§Ô∏è", tag: "Love" },
      { id: "bogosipeosseo", korean: "Î≥¥Í≥† Ïã∂ÏóàÏñ¥", roman: "bo-go si-peot-seo",
        english: "I missed you", emotion: "sweet / emotional", emoji: "üíó", tag: "Missing" },
      { id: "nadojoa", korean: "ÎÇòÎèÑ Ï¢ãÏïÑ", roman: "na-do jo-a",
        english: "I like you too", emotion: "cute / shy", emoji: "‚ò∫Ô∏è", tag: "Romance" },
      { id: "waeireohge", korean: "Ïôú Ïù¥Î†áÍ≤å Í∑ÄÏó¨Ïõå?", roman: "wae i-reo-ke gwi-yeo-wo?",
        english: "Why are you so cute?", emotion: "flirty", emoji: "üòç", tag: "Flirty" },
      { id: "simkung", korean: "Ïã¨Ïøµ‚Ä¶", roman: "sim-kung...",
        english: "Heart-fluttering‚Ä¶", emotion: "shy / flustered", emoji: "üíò", tag: "Heart-flutter" },
      { id: "neottaemun", korean: "ÎÑà ÎïåÎ¨∏Ïù¥Ïïº", roman: "neo ttae-mun-i-ya",
        english: "It‚Äôs because of you", emotion: "romantic / dramatic", emoji: "üíû", tag: "Romantic" },
      { id: "geokjeongdoe", korean: "Í±±Ï†ïÎèº", roman: "geok-jeong-dwae",
        english: "I‚Äôm worried about you", emotion: "caring", emoji: "üíó", tag: "Worry" },
      { id: "yeogibwa", korean: "Ïó¨Í∏∞ Î¥ê", roman: "yeo-gi bwa",
        english: "Look here", emotion: "sweet", emoji: "üëâ", tag: "Sweet" },
      { id: "ddobogosipeo", korean: "Îòê Î≥¥Í≥† Ïã∂Ïñ¥", roman: "tto bo-go si-peo",
        english: "I want to see you again", emotion: "romantic longing", emoji: "üíû", tag: "Longing" }
    ];

    /* ------------ 2) ÌïúÍ∏Ä ÏûêÎ™® Î∂ÑÌï¥ ------------ */
    const CHOSEONG = ["„Ñ±","„Ñ≤","„Ñ¥","„Ñ∑","„Ñ∏","„Ñπ","„ÖÅ","„ÖÇ","„ÖÉ","„ÖÖ","„ÖÜ","„Öá","„Öà","„Öâ","„Öä","„Öã","„Öå","„Öç","„Öé"];
    const JUNGSEONG = ["„Öè","„Öê","„Öë","„Öí","„Öì","„Öî","„Öï","„Öñ","„Öó","„Öò","„Öô","„Öö","„Öõ","„Öú","„Öù","„Öû","„Öü","„Ö†","„Ö°","„Ö¢","„Ö£"];
    const JONGSEONG = ["","„Ñ±","„Ñ≤","„Ñ≥","„Ñ¥","„Ñµ","„Ñ∂","„Ñ∑","„Ñπ","„Ñ∫","„Ñª","„Ñº","„ÑΩ","„Ñæ","„Ñø","„ÖÄ","„ÖÅ","„ÖÇ","„ÖÑ","„ÖÖ","„ÖÜ","„Öá","„Öà","„Öä","„Öã","„Öå","„Öç","„Öé"];

    const JAMO_ROMAN = {
      "„Ñ±":"g","„Ñ≤":"kk","„Ñ¥":"n","„Ñ∑":"d","„Ñ∏":"tt","„Ñπ":"r/l","„ÖÅ":"m",
      "„ÖÇ":"b","„ÖÉ":"pp","„ÖÖ":"s","„ÖÜ":"ss","„Öá":"ng","„Öà":"j","„Öâ":"jj",
      "„Öä":"ch","„Öã":"k","„Öå":"t","„Öç":"p","„Öé":"h",
      "„Öè":"a","„Öê":"ae","„Öë":"ya","„Öí":"yae","„Öì":"eo","„Öî":"e","„Öï":"yeo","„Öñ":"ye",
      "„Öó":"o","„Öò":"wa","„Öô":"wae","„Öö":"oe","„Öõ":"yo","„Öú":"u","„Öù":"wo","„Öû":"we","„Öü":"wi","„Ö†":"yu","„Ö°":"eu","„Ö¢":"ui","„Ö£":"i",
      "„Ñ≥":"gs","„Ñµ":"nj","„Ñ∂":"nh","„Ñ∫":"lg","„Ñª":"lm","„Ñº":"lb","„ÑΩ":"ls","„Ñæ":"lt","„Ñø":"lp","„ÖÄ":"lh","„ÖÑ":"ps"
    };

    function isHangulSyllable(ch) {
      const code = ch.charCodeAt(0);
      return code >= 0xac00 && code <= 0xd7a3;
    }

    function decomposeHangul(ch) {
      if (!isHangulSyllable(ch)) return null;
      const code = ch.charCodeAt(0) - 0xac00;
      const jongIndex = code % 28;
      const jungIndex = Math.floor((code % (21 * 28)) / 28);
      const choIndex = Math.floor(code / (21 * 28));

      const cho = CHOSEONG[choIndex];
      const jung = JUNGSEONG[jungIndex];
      const jong = JONGSEONG[jongIndex];

      const res = [];
      res.push({ h: cho, pos: "initial" });
      res.push({ h: jung, pos: "medial" });
      if (jong !== "") res.push({ h: jong, pos: "final" });
      return res;
    }

    // Î∞õÏπ® „Öé, „ÖÜ, „Öà, „Öä, „Öå ‚Üí t Î∞úÏùå
    function romanForJamo(j) {
      if (j.pos === "initial" && j.h === "„Öá") return "";
      if (j.pos === "final" && ["„Öé","„ÖÜ","„Öà","„Öä","„Öå"].includes(j.h)) return "t";
      return JAMO_ROMAN[j.h] || "";
    }

    /* ------------ 3) DOM / Ïù∏ÌÑ∞ÎûôÏÖò ------------ */
    const koreanText   = document.getElementById("koreanText");
    const romanText    = document.getElementById("romanText");
    const meaningText  = document.getElementById("meaningText");
    const emotionText  = document.getElementById("emotionText");
    const tagEmoji     = document.getElementById("tagEmoji");
    const tagText      = document.getElementById("tagText");
    const syllablesContainer = document.getElementById("syllablesContainer");
    const nextBtn      = document.getElementById("nextBtn");
    const jamoToggleBtn= document.getElementById("jamoToggleBtn");

    let currentIndex = 0;

    function renderPhrase(index) {
      const p = phrases[index];
      koreanText.textContent  = p.korean;
      romanText.textContent   = p.roman;
      meaningText.textContent = p.english;
      emotionText.textContent = `Mood: ${p.emotion}`;
      tagEmoji.textContent    = p.emoji;
      tagText.textContent     = p.tag;

      syllablesContainer.innerHTML = "";

      for (const ch of p.korean) {
        if (!isHangulSyllable(ch)) continue;
        const jamos = decomposeHangul(ch);
        if (!jamos) continue;

        const card = document.createElement("div");
        card.className = "syllable-card";

        const block = document.createElement("div");
        block.className = "syllable-block";
        block.textContent = ch;

        const jamoDiv = document.createElement("div");
        jamoDiv.className = "syllable-jamo";
        jamoDiv.textContent = jamos
          .map(j => {
            const r = romanForJamo(j);
            return r ? `${j.h} /${r}/` : `${j.h}`;
          })
          .join("  +  ");

        card.appendChild(block);
        card.appendChild(jamoDiv);
        syllablesContainer.appendChild(card);
      }
    }

    function getRandomIndex(exclude) {
      if (phrases.length === 1) return 0;
      let idx = Math.floor(Math.random() * phrases.length);
      while (idx === exclude) idx = Math.floor(Math.random() * phrases.length);
      return idx;
    }

    nextBtn.addEventListener("click", () => {
      currentIndex = getRandomIndex(currentIndex);
      renderPhrase(currentIndex);
    });

    jamoToggleBtn.addEventListener("click", () => {
      syllablesContainer.classList.toggle("hidden");
    });

    // Ï≤´ ÌôîÎ©¥ Î†åÎçîÎßÅ
    renderPhrase(currentIndex);
  </script>
</body>
</html>

